# sprata_market_6team_pjt


**식스센스 6조 ** 팀 스파르타 팀과제 (2024-08-28 제출)

프로젝트 명: 우리를 위한 중고거래 :: 스파르타 마켓

프로젝트 소개: 중고나라처럼 중고품이나 안 쓰는 제품들을 거래할 수 있는 플리 마켓 사이트

기간: 2024년 08월 21일 ~ 2024년 08월 25일 (총 5일)

포지션:<br>

  
     영훈: Auth, 유저 프로필 페이지, Follow, 로그인/로그아웃, 해쉬 기능 <br>
     페어코딩: 상품 CRUD, 상품 상세페이지, 조회수, 댓글 기능, 인덱스 상품리스트, 좋아요 기능

적용한 기술:   
Framework : Django Database : Sqlite3 ORM : Django ORM 프론트엔드 : 부트스트랩 5

주요 기능:
  
          회원가입 / 프로필 이미지 생성 / 로그인 / 유저 프로필페이지 / 유저 팔로우&팔로잉 기능 / 회원정보 변경 / 프로필 이미지 변경 / 비밀 번호 변경 /회원 탈퇴 /<br>
          로그인 시에만 물품 등록 가능 / 물품 등록 시 내용에 해시태그 기능 / 물품 정보 상세페이지 좋아요 기능 / 수정, 삭제(CRUD) / 최신순, 추천순 정렬 /게시글 조회 시 조회수 증가 /<br>
          게시물 제목, 내용, 작성자 검색 가능

와이어프레임:<br>

![image](https://github.com/user-attachments/assets/3cb2901a-61c0-4457-b77c-4d582ca6035f)

API 명세:<br>

분류	기능	메서드

기능 / 메서드:<br>

  
               회원관리/회원가입: GET, POST  팔로우/언팔로우: POST, 로그인: GET, POST, 게시글 찜: POST, 정보 수정: GET, POST,
               게시글 작성: GET, POST, 게시글 수정: GET, POST, 게시글 삭제: POST

설치 필요 패키지: requirements.txt에 명시 pip install -r requirements.txt 로 설치

ERD:<br>

![image (3)](https://github.com/user-attachments/assets/9d0948d7-c603-48b1-8c9b-8993d1de5b63)


TroubleShooting:  

  
    문제 정의)
    상품 상세 페이지에 접근할 때마다 조회수가 증가하는 문제가 발생함.
    사용자가 동일한 상품 페이지를 여러 번 방문해도 조회수가 계속 증가 문제.
    
    수집된 정보)
    기존 코드에서는 상품 페이지에 접근할 때마다 product.p_hit 값이 증가하고, 변경된 내용이 데이터베이스에 저장됨.
    변경된 코드에서는 세션을 사용하여 동일 사용자가 동일 상품 페이지를 재방문할 경우 조회수가 증가하지 않도록 설정함.
    문제를 재현하기 위해 동일 사용자가 동일 상품 페이지를 여러 번 방문하면서 세션 값을 확인.
    
    원인 추론)
    상품 조회수가 사용자의 페이지 방문 여부를 고려하지 않고 단순히 페이지 접근 시 증가하는 것이 원인으로 보임.
    세션을 사용하지 않으면 동일 사용자가 동일 페이지를 여러 번 방문할 때마다 조회수가 증가.
    
    조사방법 결정)
    세션 값이 정상적으로 설정되고 유지되는지 확인.
    세션 만료 시간이 제대로 설정되는지 확인.
    동일 사용자가 동일 상품 페이지를 여러 번 방문할 경우 조회수가 증가하지 않는지 확인.
    
    조사 방법 구현)
    브라우저에서 동일 사용자가 동일 상품 페이지를 여러 번 방문하며 조회수가 증가하는지 확인.
    세션이 정상적으로 생성되고 만료 시간이 설정되는지 확인하기 위해 세션 값을 콘솔에 출력하여 확인.
    
    결과 관찰)
    동일 사용자가 동일 상품 페이지를 재방문했을 때, 세션 값이 존재하므로 조회수는 증가하지 않음.
    세션 만료 시간이 제대로 설정되어 일정 시간이 지나면 세션이 만료되고, 다시 상품 페이지를 방문하면 조회수가 증가하는 것을 확인함.
